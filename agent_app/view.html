<!DOCTYPE html>
<html>
<head>
  <title>Today's Entries</title>
  <meta charset="UTF-8">
  <style>/* styling same as above */</style>
</head>
<body>
  <nav>
    <a href="index.html">Dashboard</a>
    <a href="entries.html">Add Entry</a>
    <a href="view.html">View Entries</a>
    <a href="customer_report.html">Customer Report</a>
  </nav>

  <h1>Today's Entries</h1>
  <button onclick="exportJSON()">üì§ Export</button>
  <table><thead><tr><th>ID</th><th>Name</th><th>Product</th><th>Amount</th><th>Due</th><th>Date</th><th>Action</th></tr></thead><tbody id="tableBody"></tbody></table>

  <script>
    let entries = JSON.parse(localStorage.getItem('agent_entries') || '[]');
    const tbody = document.getElementById("tableBody");

    function render() {
      tbody.innerHTML = '';
      entries.forEach((e, i) => {
        tbody.innerHTML += `<tr>
          <td>${e.id}</td><td>${e.name}</td><td>${e.product}</td>
          <td>‚Çπ${e.amount}</td><td>${e.dueNumber}</td><td>${e.date}</td>
          <td><button onclick="del(${i})">‚ùå</button></td>
        </tr>`;
      });
    }

    function del(i) {
      if (confirm("Delete entry?")) {
        entries.splice(i, 1);
        localStorage.setItem("agent_entries", JSON.stringify(entries));
        render();
      }
    }

    function exportJSON() {
      const blob = new Blob([JSON.stringify(entries, null, 2)], { type: "application/json" });
      const a = document.createElement("a");
      a.href = URL.createObjectURL(blob);
      a.download = "agent_collections.json";
      a.click();
    }

    render();
  </script>
</body>
</html>
